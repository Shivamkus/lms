<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>courses</title>

   <!-- font awesome cdn link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">

   <!-- custom css file link  -->
   <link rel="stylesheet" href="css/style.css">

</head>
<body>

<header class="header">
   
   <section class="flex">

      <a href="/home" class="logo">Educa.</a>

      <form action="search.html" method="post" class="search-form">
         <input type="text" name="search_box" required placeholder="search courses..." maxlength="100">
         <button type="submit" class="fas fa-search"></button>
      </form>

      <div class="icons">
         <div id="menu-btn" class="fas fa-bars"></div>
         <div id="search-btn" class="fas fa-search"></div>
         <div id="user-btn" class="fas fa-user"></div>
         <div id="toggle-btn" class="fas fa-sun"></div>
      </div>
      <div class="profile">
         <img src="images/pic-1.jpg" class="image" alt="">
         <% if (isAuthenticated) { %>
            <h3 class="name"><%= userName %></h3>
            <% } else { %>
                    <h3 class="name"></h3>
               <% } %>   
                     <p class="role">student</p>
         <a href="/profile" class="btn">view profile</a>
         <div class="flex-btn">
                    
            <% if (isAuthenticated) { %>
               <!-- If the user is authenticated, display logout button -->
               <a href="/logout" class="option-btn">logout</a>
           <% } else { %>
               <!-- If the user is not authenticated, display login and register buttons -->
               <div class="flex-btn">
                   <a href="/login" class="option-btn">login</a>
                   <a href="/register" class="option-btn">register</a>
               </div>
           <% } %>

         </div>
      </div>

   </section>

</header>   

<div class="side-bar">

   <div id="close-btn">
      <i class="fas fa-times"></i>
   </div>

   <div class="profile">
      <img src="images/pic-1.jpg" class="image" alt="">
      <h3 class="name"><%= userName %></h3>
      <p class="role">student</p>
      <a href="/profile" class="btn">view profile</a>
   </div>

   <nav class="navbar">
      <a href="/home"><i class="fas fa-home"></i><span>home</span></a>
      <a href="/about"><i class="fas fa-question"></i><span>about</span></a>
      <a href="/courses"><i class="fas fa-graduation-cap"></i><span>courses</span></a>
      <a href="/teacher"><i class="fas fa-chalkboard-user"></i><span>teachers</span></a>
      <a href="/contact"><i class="fas fa-headset"></i><span>contact us</span></a>
   </nav>

</div>

<section class="courses">

   <h1 class="heading">our courses</h1>

   <div class="box-container">
    <% course.forEach(imagefile => { %>

      <div class="box">
         <div class="tutor">
            <img src="images/pic-2.jpg" alt="">
            <div class="info">
               <h3>john deo</h3>
               <span>21-10-2022</span>
            </div>
         </div>

         <div class="thumb">
            <img src="/uploads/images/<%= imagefile.fileName %>" alt="<%= imagefile.name %>">
            <span><%= imagefile.name %></span>
         </div>
         <h3 class="title"><%= imagefile.name %></h3>
         <a href="/playlist" class="inline-btn">view playlist</a>
      </div>
      <% }); %>

      <% videoCourse.forEach(videofile => { %>

        <div class="box">
           <div class="tutor">
              <img src="images/pic-2.jpg" alt="">
              <div class="info">
                 <h3>john deo</h3>
                 <span>21-10-2022</span>
              </div>
           </div>
  
           <div class="thumb">
            <a href="/uploads/videos/<%= videofile.fileName %>">
            <video src="/uploads/videos/<%= videofile.fileName %>" controls poster="images/post-1-1.png" style="height: 200px;" width="350px" id="video" ></video>
         </a>
              <span><%= videofile.name %></span>
               <button id="createFormButton">Add comment</button>
               <div id="dynamicFormContainer" style="display: none;"></div>
           </div>
           <h3 class="title"><%= videofile.name %></h3>
           <a href="/playlist" class="inline-btn">view playlist</a>
        </div>
        <% }); %>
  
        <script>
         
// public/scripts.js
document.addEventListener('DOMContentLoaded', function () {
   const createFormButton = document.getElementById('createFormButton');
   const dynamicFormContainer = document.getElementById('dynamicFormContainer');
 
   createFormButton.addEventListener('click', function () {
     // Create and append the input and submit button
     const input = document.createElement('input');
     const submitButton = document.createElement('button');
     const commentsButton = document.createElement('button');
 
     input.type = 'text';
     submitButton.textContent = 'Submit';
     commentsButton.textContent = 'Comments';
 
     dynamicFormContainer.innerHTML = ''; // Clear previous content
     dynamicFormContainer.appendChild(input);
     dynamicFormContainer.appendChild(submitButton);
 
     // Handle form submission
     submitButton.addEventListener('click', function () {
       const inputValue = input.value;
       // Perform AJAX request to submit the input value to the server
       // For simplicity, the following line is just a console log
       console.log('Submitted value:', inputValue);
 
       // Hide the form and show the comments button
       dynamicFormContainer.style.display = 'none';
       commentsButton.style.display = 'inline-block';
     });
 
     // Show the form container
     dynamicFormContainer.style.display = 'block';
   });
 });
 
        </script>

<!--       
<h1>Image Gallery</h1>
<% course.forEach(imagefile => { %>
    <div>
        <h3></h3>
        <img src="/uploads/images/<%= imagefile.fileName %>" alt="<%= imagefile.name %>" style="height: 300px; width: 300px;">
    </div>
<% }); %> -->

      

   </div>

</section>














<footer class="footer">

   <!-- &copy; copyright @ 2022 by <span>mr. web designer</span> | all rights reserved! -->

</footer>

<!-- custom js file link  -->
<script src="js/script.js"></script>

   
</body>
</html>